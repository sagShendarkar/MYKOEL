
<div class="row">
  <div class="col-md-12">

    <c-card class="mb-4">

      <c-card-body>

        <form [formGroup]="holidayform">
          <div class=" row">
            <div class="col-4">
              <div class="mb-3">
                <label cLabel for="exampleFormControlInput1">Excel file</label>
                <input cFormControl
                       id="exampleFormControlInput1"
                       placeholder="Enter title here..."
                       formControlName="Excelfile"
                       accept=".xlsx"
                       type="file"
                       (change)="onChange($event)"
                        [ngClass]="{
                        'is-invalid':
                          submitted && holidayform.get('Excelfile')?.hasError('required')
                      }"
                />
                <div
                class="invalid-feedback"
                *ngIf="holidayform.get('Excelfile')?.hasError('required')"
                >
                Excel file is required.
                </div>
              </div>
            </div>
            <div class="col-4">
              <div class="mb-3">
                <label cLabel for="exampleFormControlInput1">Location</label>
                <ng-select
                [items]="(holidayCalenderService.locationList$|async)"
                bindLabel="locations"
                placeholder="Select Location"
                bindValue="locations"
                formControlName="Location"
                [ngClass]="{
                  'is-invalid':
                    submitted &&
                    holidayform.get('Location')?.hasError('required')
                }"
              >
              </ng-select>
                <div
                class="invalid-feedback"
                *ngIf="holidayform.get('Location')?.hasError('required')"
                >
                Location is required.
                </div>
              </div>
            </div>




            <div class="col-4 text-right pt-3">

             <button class="btn save-btn ms-4 mt-3"  size="lg" (click)="onSubmit()">
Save
             </button>
             <button class="btn save-btn ms-4 mt-3"  size="lg" (click)="downloadTemplate()">
Template
             </button>
            </div>
          </div>
        </form>
</c-card-body>
</c-card>
</div>
</div>

<div class="row">
  <div class="col-md-12">

    <c-card class="mb-4">

      <c-card-body>

    <table cTable class="custom-table">
      <thead>
      <tr class="header-tr">
         <th scope="col">Holiday </th>
        <th scope="col">Location</th>
        <th scope="col">Date</th>
        <!-- <th scope="col">Actions</th> -->
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let holidaycalender of (holidayCalenderService.HolidayCalenderList$|async)">

        <td>{{holidaycalender.holiday}}</td>
        <td class="desc-div">{{holidaycalender.location}} </td>
        <td> {{holidaycalender.date| date:'dd-MM-yyyy'}}   </td>
        <!-- <td>
        <div>
          <img
          src="../../../../../assets/SVG/view-icon.svg"
          alt="My Happy SVG"
        /> <img class="ms-3 cursor" [routerLink]="'/admin/edit-holidaycalender/'+holidaycalender.holidaycalenderid"
        src="../../../../../assets/SVG/edit-icon.svg"
        alt="My Happy SVG"
      />
        </div>
        </td> -->
      </tr>

      </tbody>
    </table>

    <div  class="row" *ngIf="(holidayCalenderService.isLoading$ |async)">
      <div class="text-center col-12">
              <c-spinner size="sm" variant="grow"></c-spinner><span>Loading...</span>
              </div>
                  </div>
    <div class="row">
      <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 d-flex justify-content-end  mb-5 "
          *ngIf="pagination">
          <pagination [boundaryLinks]="true" [totalItems]="pagination.totalItems"
              [itemsPerPage]="pagination.itemsPerPage" [(ngModel)]="pagination.currentPage"
              (pageChanged)="pageChanged($event)" previousText="&lsaquo;" nextText="&rsaquo;"
              firstText="&laquo;" lastText="&raquo;" [maxSize]="5" [rotate]="true">
          </pagination>
      </div>
  </div>
      </c-card-body>
    </c-card>
  </div>
  </div>
